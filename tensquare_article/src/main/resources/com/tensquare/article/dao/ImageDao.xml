<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.tensquare.article.dao.ImageDao">
  <insert id="addImageList" parameterType="com.tensquare.article.pingan.Image">
      insert into tb_image (image_id,image_name,image_end,image_type,create_date,image_size) values
      <if test="imageList!=null and imageList.size()>0">
          <foreach collection="imageList" open="" item="image" separator="," close="">
              (#{image.imageId},#{image.imageName},#{image.imageEnd},#{image.imageType},#{image.createDate},#{image.imageSize})
          </foreach>
      </if>
  </insert>
    <select id="getListImage" parameterType="java.lang.String" resultType="java.util.Map">
        select * from tb_image where image_id in
        <if test="idList!=null and idList.length>0">
            <foreach collection="idList" open="(" item="id" separator="," close=")">
                #{id}
            </foreach>
        </if>
        <!-- and create_date between str_to_date(#{startDate},'%Y-%m-%d %H:%i:%s') and str_to_date(#{endDate},'%Y-%m-%d %H:%i:%s')-->
        and create_date <![CDATA[>=]]> str_to_date(#{startDate},'%Y-%m-%d %H:%i:%s') and create_date <![CDATA[<=]]> str_to_date(#{endDate},'%Y-%m-%d %H:%i:%s')
    </select>
    <select id="getDateStrList" resultType="java.lang.String">
       select date_format(create_date,'%Y年%m月%d日 %H时%i分%s秒') from tb_image
        <!--select create_date from tb_image-->
    </select>
</mapper>